<!-- https://www.dashingd3js.com -->
<!DOCTYPE html>
 <html>
   <head>
     <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/d3/4.12.0/d3.min.js"></script>
   </head>
   <body>
    <!-- Can add a transformation attribute to g, inline, or with d3 -->
                <!-- Transformation types: matrix (6 arguments), translate (2), scale (2), skewX (1), skewY (1) -->
                <!-- Note that transformations alter the coordinate space, not the shapes themselves -->
        <!--
        <svg width="200" height="200">
            <g> 
                <circle cx="20" cy="20" r="20" fill="green" />
                <circle cx="70" cy="70" r="20" fill="purple" />
            </g>
            <g>
                <rect x="110" y="110" height="30" width="30" fill="blue" />
                <rect x="160" y="160" height="30" width="30" fill="red" />
            </g>
        </svg>
         -->
   </body>
 <script>  
   // 1. Transformation
   let circleData = [
        { "cx": 20, "cy": 20, "radius": 20, "color" : "green" },
        { "cx": 70, "cy": 70, "radius": 20, "color" : "purple" }];
 
    let rectangleData = [
        { "rx": 110, "ry": 110, "height": 30, "width": 30, "color" : "blue" },
        { "rx": 160, "ry": 160, "height": 30, "width": 30, "color" : "red" }];

    let svgContainer = d3.select("body").append("svg")
        .attr("width",200)
        .attr("height",200);

    let circleGroup = svgContainer.append("g")
        .attr("transform", "translate(80,0)");

    let circles = circleGroup.selectAll("circle")
        .data(circleData)
        .enter()
        .append("circle");

    let circleAttributes = circles
        .attr("cx", function (d) { return d.cx; })
        .attr("cy", function (d) { return d.cy; })
        .attr("r", function (d) { return d.radius; })
        .style("fill", function (d) { return d.color; });

    let rectangles = svgContainer.selectAll("rect")
        .data(rectangleData)
        .enter()
        .append("rect");

    let rectangleAttributes = rectangles
        .attr("x", function (d) { return d.rx; })
        .attr("y", function (d) { return d.ry; })
        .attr("height", function (d) { return d.height; })
        .attr("width", function (d) { return d.width; })
        .style("fill", function(d) { return d.color; });
 </script>
 </html>